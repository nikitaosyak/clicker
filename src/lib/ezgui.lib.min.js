!function(e){e.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},Out:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},InOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-e.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*e.Easing.Bounce.In(2*t):.5*e.Easing.Bounce.Out(2*t-1)+.5}}}}(EZGUI||(EZGUI={})),function(a){var n;a.Interpolation={Linear:function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n),o=a.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],n):1<e?o(t[i],t[i-1],i-n):o(t[s],t[i<s+1?i:s+1],n-s)},Bezier:function(t,e){var i,n=0,s=t.length-1,o=Math.pow,r=a.Interpolation.Utils.Bernstein;for(i=0;i<=s;i++)n+=o(1-e,s-i)*o(e,i)*t[i]*r(s,i);return n},CatmullRom:function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n),o=a.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(s=Math.floor(n=i*(1+e))),o(t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i],n-s)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-n)-t[0]):1<e?t[i]-(o(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):o(t[s?s-1:0],t[s],t[i<s+1?i:s+1],t[i<s+2?i:s+2],n-s)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=a.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(n=[1],function(t){var e,i=1;if(n[t])return n[t];for(e=t;1<e;e--)i*=e;return n[t]=i}),CatmullRom:function(t,e,i,n,s){var o=.5*(i-t),r=.5*(n-e),a=s*s;return(2*e-2*i+o+r)*(s*a)+(-3*e+3*i-2*o-r)*a+o*s+e}}}}(EZGUI||(EZGUI={})),function(n){var t=function(){function i(t){for(var e in this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=n.Easing.Linear.None,this._interpolationFunction=n.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._object=t)this._valuesStart[e]=parseFloat(t[e],10)}return i.getAll=function(){return this._tweens},i.removeAll=function(){this._tweens=[]},i.add=function(t){this._tweens.push(t)},i.remove=function(t){var e=this._tweens.indexOf(t);-1!==e&&this._tweens.splice(e,1)},i.update=function(t){if(0===this._tweens.length)return!1;var e=0;for(t=void 0!==t?t:window.performance.now();e<this._tweens.length;)this._tweens[e].update(t)?e++:this._tweens.splice(e,1);return!0},i.prototype.to=function(t,e){return void 0!==e&&(this._duration=e),this._valuesEnd=t,this},i.prototype.start=function(t){for(var e in i.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==t?t:window.performance.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[e]instanceof Array){if(0===this._valuesEnd[e].length)continue;this._valuesEnd[e]=[this._object[e]].concat(this._valuesEnd[e])}this._valuesStart[e]=this._object[e],this._valuesStart[e]instanceof Array==!1&&(this._valuesStart[e]*=1),this._valuesStartRepeat[e]=this._valuesStart[e]||0}return this},i.prototype.stop=function(){return this._isPlaying&&(i.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback.call(this._object),this.stopChainedTweens()),this},i.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop()},i.prototype.delay=function(t){return this._delayTime=t,this},i.prototype.repeat=function(t){return this._repeat=t,this},i.prototype.yoyo=function(t){return this._yoyo=t,this},i.prototype.easing=function(t){return this._easingFunction=t,this},i.prototype.interpolation=function(t){return this._interpolationFunction=t,this},i.prototype.chain=function(){return this._chainedTweens=arguments,this},i.prototype.onStart=function(t){return this._onStartCallback=t,this},i.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},i.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},i.prototype.onStop=function(t){return this._onStopCallback=t,this},i.prototype.update=function(t){var e;if(t<this._startTime)return!0;!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback.call(this._object),this._onStartCallbackFired=!0);var i=(t-this._startTime)/this._duration;i=1<i?1:i;var n=this._easingFunction(i);for(e in this._valuesEnd){var s=this._valuesStart[e]||0,o=this._valuesEnd[e];o instanceof Array?this._object[e]=this._interpolationFunction(o,n):("string"==typeof o&&(o=s+parseFloat(o,10)),"number"==typeof o&&(this._object[e]=s+(o-s)*n))}if(null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._object,n),1==i){if(0<this._repeat){for(e in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[e]&&(this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e],10)),this._yoyo){var r=this._valuesStartRepeat[e];this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r}this._valuesStart[e]=this._valuesStartRepeat[e]}return this._yoyo&&(this._reversed=!this._reversed),this._startTime=t+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback.call(this._object);for(var a=0,h=this._chainedTweens.length;a<h;a++)this._chainedTweens[a].start(t);return!1}return!0},i._tweens=[],i}();n.Tween=t}(EZGUI||(EZGUI={})),function(t){var e,i;e=t.utils||(t.utils={}),i=function(){function t(){}return t.prototype.bind=function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},t.prototype.on=function(t,e,i){this._events=this._events||{},this._events[t]=this._events[t]||[],i&&(e.__nbcalls__=i),this._events[t].push(e)},t.prototype.unbind=function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t]&&this._events[t]instanceof Array&&this._events[t].splice(this._events[t].indexOf(e),1)},t.prototype.unbindEvent=function(t){this._events=this._events||{},this._events[t]=[]},t.prototype.unbindAll=function(){for(var t in this._events=this._events||{},this._events)this._events[t]=!1},t.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(this._events=this._events||{},t in this._events!=!1)for(var n=0;n<this._events[t].length;n++){var s=this._events[t][n];s.apply(this,e),s.__nbcalls__&&(s.__nbcalls__--,s.__nbcalls__<=0&&this.unbind(t,s))}},t}(),e.EventHandler=i}(EZGUI||(EZGUI={})),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){var t=/function\s([^(]{1,})\(/.exec(this.toString());return t&&1<t.length?t[1].trim():""},set:function(t){}});var EZGUI,__extends=this.__extends||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n};if(function(s){!function(t){t.PIXIVersion=0==PIXI.VERSION.indexOf("v3.")||0==PIXI.VERSION.indexOf("3.")?3:2,t.isPhaser="undefined"!=typeof Phaser,t.isPhaser24=t.isPhaser&&0==Phaser.VERSION.indexOf("2.4"),t.BitmapText=3<=t.PIXIVersion?PIXI.extras.BitmapText:PIXI.BitmapText;var e=function(t,e,i){};t.TilingSprite=e;var i=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(PIXI.DisplayObjectContainer);t.GUIContainer=i,3==t.PIXIVersion?t.GUIContainer=PIXI.Container:t.GUIContainer=PIXI.DisplayObjectContainer;var n=function(e){function i(){if(e.call(this),"undefined"!=typeof Phaser){var t=Phaser.GAMES[0];i.globalPhaserGroup||(i.globalPhaserGroup=new Phaser.Group(t,t.stage,"guigroup")),this.phaserGroup=i.globalPhaserGroup.create(0,0),this.phaserGroup.addChild(this),this.phaserGroup.guiSprite=this}}return __extends(i,e),i}(i);t.GUIDisplayObjectContainer=n,t.createRenderTexture=function(t,e){return 3==s.Compatibility.PIXIVersion?new PIXI.RenderTexture(s.tilingRenderer,t,e):new PIXI.RenderTexture(t,e,s.tilingRenderer)},t.fixCache=function(t){if(s.Compatibility.isPhaser24&&this._fileList)for(var e=0;e<this._fileList.length;e++)if(!t||0==t.length||0<=t.indexOf(this._fileList[e].key)){var i=new PIXI.Texture(new PIXI.BaseTexture(this._fileList[e].data));PIXI.TextureCache[this._fileList[e].key]=i}}}(s.Compatibility||(s.Compatibility={}))}(EZGUI||(EZGUI={})),3==EZGUI.Compatibility.PIXIVersion?(PIXI.utils._saidHello=!0,EZGUI.tilingRenderer=new PIXI.CanvasRenderer,EZGUI.Compatibility.TilingSprite=PIXI.extras.TilingSprite,PIXI.utils._saidHello=!1):(EZGUI.tilingRenderer=new PIXI.CanvasRenderer,EZGUI.Compatibility.TilingSprite=PIXI.TilingSprite),EZGUI.Compatibility.TilingSprite.prototype.fixPhaser24=function(){if(EZGUI.Compatibility.isPhaser24){var t=this.originalTexture||this.texture,e=t.frame;e.width!==t.baseTexture.width||(e.height,t.baseTexture.height);this._frame={},t.trim?(this._frame.spriteSourceSizeX=t.trim.width,this._frame.spriteSourceSizeY=t.trim.height):(this._frame.sourceSizeW=e.width,this._frame.sourceSizeH=e.height)}},PIXI.EventTarget)PIXI.EventTarget.mixin(EZGUI.Compatibility.GUIDisplayObjectContainer.prototype);else if(EZGUI.Compatibility.isPhaser){var proto=EZGUI.Compatibility.GUIDisplayObjectContainer.prototype;proto.on=function(t,e){this._listeners=this._listeners||{},this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e)},proto.off=function(t,e){if(this._listeners=this._listeners||{},e){if(t in this._listeners==!1||"array"!=typeof this._listeners[t])return;this._listeners[t].splice(this._listeners[t].indexOf(e),1)}else this._listeners[t]=[]},proto.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(this._listeners=this._listeners||{},t in this._listeners!=!1)for(var n=0;n<this._listeners[t].length;n++){var s=this._listeners[t][n];s.apply(this,e),s.__nbcalls__&&(s.__nbcalls__--,s.__nbcalls__<=0&&this.unbind(t,s))}}}!function(f){var t=function(){function u(t){this.themeConfig=t,this._listeners=[],this.ready=!1,this.url="";var e=this;"string"==typeof t?(e.url=t,f.utils.loadJSON(e.url,function(t){e.themeConfig=t,e.initThemeConfig(t)})):this.initThemeConfig(t)}return u.prototype.override=function(t){var e=JSON.parse(JSON.stringify(t));for(var i in e)if("default"!=i){var n=e[i];f.utils.extendJSON(n,this._default)}for(var i in this.parseComponents(e),e)if("default"!=i){n=e[i];this._theme[i]=n}},u.prototype.fixLimits=function(t,e){if("object"==typeof e)for(var i in null!=t.width&&e.maxWidth&&(t.width=Math.min(t.width,e.maxWidth)),null!=t.height&&e.maxHeight&&(t.height=Math.min(t.height,e.maxHeight)),e){e[i];"object"==typeof t[i]&&this.fixLimits(t[i],e[i])}},u.prototype.initThemeConfig=function(t){for(var e in this._theme=JSON.parse(JSON.stringify(t)),this.id=this._theme.__config__?this._theme.__config__.name:void 0,this._default=this._theme.default,this._theme)if("default"!=e){var i=this._theme[e];f.utils.extendJSON(i,this._default)}this.path=this.url.substring(0,this.url.lastIndexOf("/")+1),this.parseComponents(this._theme),this.preload()},u.prototype.parseResources=function(){var t=this._theme.__config__.resources,e=[];if(!t||t.length<=0)return e;for(var i=0;i<t.length;i++){var n=t[i];0!=n.indexOf("http://")&&0!=n.indexOf("https://")&&0!=n.indexOf("file://")&&0!=n.indexOf("/")&&(0==n.indexOf("./")&&(n=n.substring(2)),PIXI.loader&&PIXI.loader.resources[e[i]]||e.push(this.path+n))}return e},u.prototype.parseComponents=function(t){for(var e in t)if("__config__"!=e)for(var i=t[e],n=0;n<u.imageComponents.length;n++)for(var s=u.imageComponents[n],o=0;o<u.imageVariants.length;o++){var r=u.imageVariants[o];if(""!=r&&(s=s+"-"+r),null!=i[s])if("string"==typeof i[s]){var a=i[s];i[s]=this.normalizeResPath(a)}else for(var h=0;h<u.imageStates.length;h++){var l=u.imageStates[h];(a=i[s][l])&&(i[s][l]=this.normalizeResPath(a))}}},u.prototype.normalizeResPath=function(t){return 0!=t.indexOf("./")?t:(t=t.substring(2),this.path+t)},u.load=function(t,e){void 0===e&&(e=null);for(var i=0,n=0;n<t.length;n++){i++,new u(t[n]).onReady(function(){--i<=0&&"function"==typeof e&&e()})}},u.prototype.onReady=function(t){"function"==typeof t&&(this.ready&&t(),this._listeners.push(t))},u.prototype.preload=function(){var e=this,t=function(){var t;for(e.ready=!0,f.themes[e.id]=e;t=e._listeners.pop();)t()};if(this._theme.__config__&&this._theme.__config__.resources){var i=this.parseResources();0==i.length?t():e.loadResources(i,t)}else t()},u.prototype.loadResources=function(t,h){for(var l=this,s=[],e=[],i=[],u={},c={},o=0,n=function(){for(var t in u){var e=u[t],i=l.path+e.meta.image,n=PIXI.utils?PIXI.utils.TextureCache[i].baseTexture:PIXI.TextureCache[i].baseTexture;for(var s in e.frames){var o=e.frames[s].frame,r=new PIXI.Texture(n,{x:o.x,y:o.y,width:o.w,height:o.h});PIXI.utils?PIXI.utils.TextureCache[s]=r:PIXI.TextureCache[s]=r}}for(var t in c){var a=c[t];l.parseFont(a,PIXI.Texture.fromFrame(a.textureId))}h()},r=function(){var t=1==f.settings.crossOrigin;if("undefined"!=typeof Phaser){(i=new Phaser.Loader(Phaser.GAMES[0])).crossOrigin=t;for(var e=0;e<s.length;e++)i.image(s[e],s[e]);return i.onLoadComplete.add(function(){f.Compatibility.fixCache.apply(i),n()}),void i.start()}if(PIXI.loader){for(e=0;e<s.length;e++)PIXI.loader.add({url:s[e],crossOrigin:t});PIXI.loader.load(n)}else{var i;(i=new PIXI.AssetLoader(s,t)).onComplete=n,i.load()}},a=0;a<t.length;a++){var g=t[a];0<g.indexOf(".json")?e.push(g):0<g.indexOf(".xml")||0<g.indexOf(".fnt")?i.push(g):s.push(g)}if(0<e.length)for(a=0;a<e.length;a++){var d=e[a];o++,function(e){f.utils.loadJSON(e,function(t){s.push(l.path+t.meta.image),o--,u[e]=t,o<=0&&r()})}(d)}if(0<i.length)for(a=0;a<i.length;a++){d=i[a];o++,function(n){f.utils.loadXML(n,function(t){var e=t.getElementsByTagName("page")[0].getAttribute("file"),i=n.substring(0,n.lastIndexOf("\\")+n.lastIndexOf("/")+2)+e;s.push(i),o--,c[n]={data:t,textureId:i},o<=0&&r()})}(d)}e.length<=0&&i.length<=0&&r()},u.prototype.parseFont=function(t,e){var i,n,s={},o=t.data.getElementsByTagName("info")[0],r=t.data.getElementsByTagName("common")[0];s.font=o.getAttribute("face"),s.size=parseInt(o.getAttribute("size"),10),s.lineHeight=parseInt(r.getAttribute("lineHeight"),10),s.chars={},3==f.Compatibility.PIXIVersion?(i=PIXI.math.Rectangle,n=PIXI.extras.BitmapText):(i=PIXI.Rectangle,n=PIXI.BitmapText);for(var a=t.data.getElementsByTagName("char"),h=0;h<a.length;h++){var l=parseInt(a[h].getAttribute("id"),10),u=new i(parseInt(a[h].getAttribute("x"),10)+e.frame.x,parseInt(a[h].getAttribute("y"),10)+e.frame.y,parseInt(a[h].getAttribute("width"),10),parseInt(a[h].getAttribute("height"),10));s.chars[l]={xOffset:parseInt(a[h].getAttribute("xoffset"),10),yOffset:parseInt(a[h].getAttribute("yoffset"),10),xAdvance:parseInt(a[h].getAttribute("xadvance"),10),kerning:{},texture:new PIXI.Texture(e.baseTexture,u)}}var c=t.data.getElementsByTagName("kerning");for(h=0;h<c.length;h++){var g=parseInt(c[h].getAttribute("first"),10),d=parseInt(c[h].getAttribute("second"),10),p=parseInt(c[h].getAttribute("amount"),10);s.chars[d].kerning[g]=p}n.fonts[s.font]=s},u.prototype.getSkin=function(t){return this._theme[t]||this._theme.default},u.prototype.applySkin=function(t){var e=t.skin||t.component,i=this._theme[e]||this._theme.default;return f.utils.extendJSON(t,i),this.fixLimits(t,i),t},u.imageComponents=["bg","corner","line","side","image","checkmark"],u.imageStates=["default","hover","down","checked"],u.imageVariants=["","t","r","b","l","left","right","tl","tr","bl","br"],u}();f.Theme=t}(EZGUI||(EZGUI={})),function(e){e.VERSION="0.3.0 beta",e.tilingRenderer,e.dragging,e.dsx,e.dsy,e.startDrag={x:null,y:null,t:null},e.focused,e.game,e.themes={},e.components={},e.radioGroups=[],e.EventsHelper=new e.utils.EventHandler,e.settings={crossOrigin:!1};var t,i,s={};e.registerComponents=function(t,e){e=e||t.name,s[e]=t},e.create=function(t,e){t.component;var i,n=s[t.component]||s.default;return n&&(i=new n(t,e)),i},function t(){requestAnimationFrame(t),e.Tween.update()}(),t=-1!=navigator.userAgent.indexOf("Chrome"),i=-1!=navigator.userAgent.indexOf("Firefox"),navigator.userAgent.indexOf("MSIE"),t?console.log("%cEZ%cGUI%c v"+e.VERSION+"%c | http://ezgui.ezelia.com  %c[We %c❤%c HTML5]","font-weight:bold;font-size:20px;color:#b33;text-shadow:0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb","font-weight:bold;font-size:20px;color:#000;text-shadow:0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb","font-size:12px;font-weight:bold; color: #b33;","font-size:12px;font-weight:bold; color: #000;","font-size:12px;font-weight:bold; color: #fff;background:#f18050","font-size:12px;font-weight:bold; color: #f00;background:#f18050","font-size:12px;font-weight:bold; color: #fff;background:#f18050"):i?console.log("%cEZGUI%c v"+e.VERSION+"%c | http://ezgui.ezelia.com  %c[We ❤ HTML5]","font-weight:bold;font-size:20px;color:#b33;text-shadow:0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb","font-size:12px;font-weight:bold; color: #b33;","font-size:12px;font-weight:bold; color: #000;","font-size:12px;font-weight:bold; color: #fff;background:#f18050"):window.console&&console.log(" EZGUI v"+e.VERSION+"   [We <3 HTML5] | http://ezgui.ezelia.com")}(EZGUI||(EZGUI={})),function(t){var e=function(s){function t(t,e){if(s.call(this,t),this.stateTextures={},this.stateTextures.default=t,e)for(var i in e){var n=e[i];n instanceof PIXI.Texture&&(this.stateTextures[i]=n)}}return __extends(t,s),t.prototype.addState=function(t,e){this.stateTextures[t]=e},t.prototype.setState=function(t){void 0===t&&(t="default");var e=this;e.stateTextures[t]&&(e.texture?e.texture=e.stateTextures[t]:e._texture&&(e._texture=e.stateTextures[t]),e._tilingTexture&&(e._tilingTexture=e.stateTextures[t]))},t}(PIXI.Sprite);t.MultistateSprite=e}(EZGUI||(EZGUI={})),function(l){var t=function(n){function t(){n.call(this),this.container=new l.Compatibility.GUIContainer,this.addChild(this.container)}return __extends(t,n),Object.defineProperty(t.prototype,"Id",{get:function(){return this.guiID},set:function(t){this.guiID=t},enumerable:!0,configurable:!0}),t.prototype.setupEvents=function(){var n=this;n.interactive=!0,n.mouseover=function(t){t.data;n.canTrigger(t,n)&&(n._over=!0,n.emit("ezgui:mouseover",t,n))},n.mouseout=function(t){t.data;n._over=!1,n.emit("ezgui:mouseout",t,n)},n.mousedown=n.touchstart=function(t){if(n.canTrigger(t,n)){var e=l.utils.getRealPos(t);l.startDrag.x=e.x,l.startDrag.y=e.y,l.startDrag.t=Date.now();t.data;n.emit("ezgui:mousedown",t,n)}},n.mouseup=n.mouseupoutside=n.touchend=n.touchendoutside=function(t){if(n.canTrigger(t,n)){t.data;n.emit("ezgui:mouseup",t,n);var e=l.utils.getRealPos(t);l.utils.distance(e.x,e.y,l.startDrag.x,l.startDrag.y)<=4&&(n.emit("ezgui:click",t,n),l.focused&&n!=l.focused&&l.focused.emit&&l.focused.emit("ezgui:blur"),l.focused=n,l.focused.emit("ezgui:focus"),t.stopped=!0)}},n.mousemove=n.touchmove=function(t){if(n._over&&(n.canTrigger(t,n)?(n._over=!1,n.mouseover(t)):n.mouseout(t)),n.canTrigger(t,n)){t.data;n.emit("ezgui:mousemove",t,n)}},n.click=n.tap=function(t){},n.phaserGroup&&(n.phaserGroup.inputEnabled=!0,n.phaserGroup.events.onInputOver.add(function(t,e){n._over=!0,n.emit("ezgui:mouseover",e,n)},this),n.phaserGroup.events.onInputOut.add(function(t,e){n._over=!1,n.emit("ezgui:mouseout",e,n)},this),n.phaserGroup.events.onInputDown.add(function(t,e){if(n.canTrigger(e,n)){var i=l.utils.getRealPos(e);l.startDrag.x=i.x,l.startDrag.y=i.y,l.startDrag.t=Date.now(),n.emit("ezgui:mousedown",e,n),!n.draggable&&n.guiParent&&n.guiParent.draggable&&n.guiParent.emit("ezgui:mousedown",e,n)}},this),n.phaserGroup.events.onInputUp.add(function(t,e){n.emit("ezgui:mouseup",e,n);var i=l.utils.getRealPos(e);l.utils.distance(i.x,i.y,l.startDrag.x,l.startDrag.y)<=4&&(n.emit("ezgui:click",e,n),l.focused&&n!=l.focused&&l.focused.emit&&l.focused.emit("ezgui:blur"),l.focused=n,l.focused.emit("ezgui:focus")),!n.draggable&&n.guiParent&&n.guiParent.draggable&&n.guiParent.emit("ezgui:mouseup",e,n)},this),Phaser.GAMES[0].input.mouse.mouseMoveCallback=function(t){if(n._over&&(n.canTrigger(t,n)?(n._over=!0,n.emit("ezgui:mouseover",t,n)):(n._over=!1,n.emit("ezgui:mouseout",t,n))),n.canTrigger(t,n)){t.data;n.emit("ezgui:mousemove",t,n)}})},t.prototype.originalAddChildAt=function(t,e){return n.prototype.addChildAt.call(this,t,e)},t.prototype.originalAddChild=function(t){return this.originalAddChildAt(t,this.children.length)},t.prototype.addChild=function(t){return t instanceof l.GUISprite?(t.guiParent=this,t.phaserGroup?this.container.addChild(t.phaserGroup):this.container.addChild(t)):n.prototype.addChild.call(this,t)},t.prototype.removeChild=function(t){return t instanceof l.GUISprite?(t.guiParent=null,t.phaserGroup?this.container.removeChild(t.phaserGroup):this.container.removeChild(t)):n.prototype.removeChild.call(this,t)},t.prototype.mouseInObj=function(t,e){var i=t.data||t,n=l.utils.getClientXY(t),s=t;i.originalEvent&&i.originalEvent.changedTouches&&0<i.originalEvent.changedTouches.length?s=i.originalEvent.changedTouches[0]:i.originalEvent&&i.originalEvent.touches&&0<i.originalEvent.touches.length?s=i.originalEvent.touches[0]:i.originalEvent&&(s=i.originalEvent);var o=s.target.getBoundingClientRect(),r=n.x-o.left,a=n.y-o.top,h=l.utils.getAbsPos(e);return!(r<h.x||r>h.x+e.width||a<h.y||a>h.y+e.height)},t.prototype.canTrigger=function(t,e){var i=t.data||t,n=l.utils.getClientXY(t),s=t;if(i.originalEvent&&i.originalEvent.changedTouches&&0<i.originalEvent.changedTouches.length?s=i.originalEvent.changedTouches[0]:i.originalEvent&&i.originalEvent.touches&&0<i.originalEvent.touches.length?s=i.originalEvent.touches[0]:i.originalEvent&&(s=i.originalEvent),!s.target.getBoundingClientRect)return!1;var o=s.target.getBoundingClientRect(),r=n.x-o.left,a=n.y-o.top;return!l.utils.isMasked(r,a,e)},t.prototype.on=function(t,e,i){return n.prototype.on.call(this,"ezgui:"+t,e,i)},t.prototype.off=function(t,e,i){if(2!=l.Compatibility.PIXIVersion||null!=e||null!=i)return n.prototype.off.call(this,"ezgui:"+t,e,i);this._listeners["ezgui:"+t]=[]},t.prototype.bindChildren=function(t,e){for(var i=0;i<this.container.children.length;i++){var n=this.container.children[i];n.guiSprite&&(n=n.guiSprite),n.on(t,e)}},t.prototype.bindChildrenOfType=function(t,e,i){for(var n=0;n<this.container.children.length;n++){var s=this.container.children[n];s.guiSprite&&(s=s.guiSprite),s instanceof t&&s.on(e,i)}},t.prototype.unbindChildren=function(t,e){for(var i=0;i<this.container.children.length;i++){var n=this.container.children[i];n.guiSprite&&(n=n.guiSprite),n.off(t,e)}},t.prototype.unbindChildrenOfType=function(t,e,i){for(var n=0;n<this.container.children.length;n++){var s=this.container.children[n];s.guiSprite&&(s=s.guiSprite),s instanceof t&&s.off(e,i)}},t.prototype.preUpdate=function(){},t.prototype.update=function(){},t.prototype.postUpdate=function(){},t.prototype.destroy=function(){this.phaserGroup&&this.phaserGroup.destroy(),this.parent&&this.parent.removeChild&&this.parent.removeChild(this),delete l.components[this.guiID]},t}(l.Compatibility.GUIDisplayObjectContainer);l.GUIObject=t,l.registerComponents(l.GUISprite,"default")}(EZGUI||(EZGUI={})),function(f){var t=function(u){function t(t,e){u.call(this),this.settings=t,this.themeId=e,this.dragXInterval=[-1/0,1/0],this.dragYInterval=[-1/0,1/0],this.userData=t.userData,e instanceof f.Theme?this.theme=e:this.theme=f.themes[e],this.theme&&this.theme.ready||(console.error("[EZGUI ERROR]","Theme is not ready, nothing to display"),this.theme=new f.Theme({})),this.rebuild()}return __extends(t,u),Object.defineProperty(t.prototype,"text",{get:function(){if(this.textObj)return this.textObj.text},set:function(t){this.textObj&&(3==f.Compatibility.PIXIVersion?this.textObj.text=t:this.textObj.setText(t),this._settings.anchor?(this.textObj.position.x=0,this.textObj.position.y=0,this.textObj.anchor?(this.textObj.anchor.x=this._settings.anchor.x,this.textObj.anchor.y=this._settings.anchor.y):(this.textObj.position.x-=this.textObj.width/2,this.textObj.position.y-=this.textObj.height/2)):(this.textObj.position.x=(this._settings.width-this.textObj.width)/2,this.textObj.position.y=(this._settings.height-this.textObj.height)/2,this.textObj.anchor&&(this.textObj.anchor.x=0,this.textObj.anchor.y=0)))},enumerable:!0,configurable:!0}),t.prototype.erase=function(){this.container.children.length=0,this.children.length=0,this.rootSprite=void 0},t.prototype.rebuild=function(){this.erase();var t=JSON.parse(JSON.stringify(this.settings));this._settings=this.theme.applySkin(t),this.parseSettings(),this.draw(),this.drawText(),this.setupEvents(),this.handleEvents()},t.prototype.parsePercentageValue=function(t){if("string"!=typeof t)return NaN;var e=NaN,i=t.split("%");return 2==i.length&&""==i[1]&&(e=parseFloat(i[0])),e},t.prototype.parseSettings=function(){},t.prototype.prepareChildSettings=function(t){var e=this._settings["padding-top"]||this._settings.padding||0,i=this._settings["padding-left"]||this._settings.padding||0,n=this._settings["padding-bottom"]||this._settings.padding||0,s=(this._settings["padding-right"]||this._settings.padding||0)+i,o=e+n,r=JSON.parse(JSON.stringify(t));if(r){var a;if("string"==typeof r.width)NaN!=(a=this.parsePercentageValue(r.width))&&(r.width=(this.width-s)*a/100);if("string"==typeof r.height)NaN!=(a=this.parsePercentageValue(r.height))&&(r.height=(this.height-o)*a/100);if("object"==typeof r.position){if("string"==typeof r.position.x){var h=this.parsePercentageValue(r.position.x);NaN!=h&&(r.position.x=(this.width-s)*h/100)}if("string"==typeof r.position.y){var l=this.parsePercentageValue(r.position.y);NaN!=l&&(r.position.y=(this.height-o)*l/100)}}}return r},t.prototype.setDraggable=function(t){void 0===t&&(t=!0),this.draggable=t?this:void 0},t.prototype.handleEvents=function(){var r=this;1==(this.draghandle=r)._settings.draggable&&(this.draggable=r),"container"==r._settings.draggable&&(this.draggable=r.container),!1===r._settings.dragX&&(this.dragConstraint="y"),!1===r._settings.dragY&&(this.dragConstraint="x"),r.on("mousedown",function(t){if(r.draggable&&r.mouseInObj(t,r.draghandle)){t.data;f.dragging=r;var e=f.utils.getRealPos(t);f.dsx=e.x,f.dsy=e.y,f.startDrag.x=e.x,f.startDrag.y=e.y}}),r.on("mouseup",function(t){f.dragging=null,r.setState("default")}),r.on("mousemove",function(t){if(f.dragging)r.draggable&&r.draggable.guiID;var e="undefined"!=typeof Phaser&&f.dragging;if(r.draggable&&f.dragging==r||e){var i,n=f.utils.getRealPos(t),s=f.dragging,o=f.dragging.draggable;f.utils.getAbsPos(o);if("y"!=s.dragConstraint)(i=o.position.x+n.x-f.dsx)>=s.dragXInterval[0]&&i<=s.dragXInterval[1]&&(o.position.x=i);if("x"!=s.dragConstraint)(i=o.position.y+n.y-f.dsy)>=s.dragYInterval[0]&&i<=s.dragYInterval[1]&&(o.position.y=i);f.dsx=n.x,f.dsy=n.y}})},t.prototype.draw=function(){var t=this._settings;if(t){this.guiID=t.id,this.guiID&&(f.components[this.guiID]=this);for(var e=0;e<f.Theme.imageStates.length;e++){for(var i=f.Theme.imageStates[e],n=new f.Compatibility.GUIContainer,s=this.createVisuals(t,i),o=0;o<s.length;o++)n.addChild(s[o]);var r=f.Compatibility.createRenderTexture(t.width,t.height);r.render(n),this.rootSprite?this.rootSprite.addState(i,r):(this.rootSprite=new f.MultistateSprite(r),this.addChild(this.rootSprite))}t.padding;if(t.position?(this.position.x=t.position.x,this.position.y=t.position.y):(this.position.x=0,this.position.y=0),t.children)for(o=0;o<t.children.length;o++){var a=this.prepareChildSettings(t.children[o]),h=this.createChild(a,o);h&&(u.prototype.addChild.call(this,h),h.guiParent=this)}if(this._settings.anchor&&(this.rootSprite.anchor.x=this._settings.anchor.x,this.rootSprite.anchor.y=this._settings.anchor.y,this.container.position.x-=this.rootSprite.width*this._settings.anchor.x,this.container.position.y-=this.rootSprite.height*this._settings.anchor.y,this.position.x+=this.rootSprite.width*this._settings.anchor.x,this.position.y+=this.rootSprite.height*this._settings.anchor.y),this._settings.color){var l=f.utils.ColorParser.parseToPixiColor(this._settings.color);0<=l&&(this.rootSprite.tint=l)}this.addChild(this.container),this.sortChildren()}},t.prototype.sortChildren=function(){if(this.container){this.container.children.sort(function(t,e){return t.guiSprite&&(t=t.guiSprite),e.guiSprite&&(e=e.guiSprite),t._settings.z=t._settings.z||0,e._settings.z=e._settings.z||0,t._settings.z-e._settings.z})}},t.prototype.drawText=function(){if(this._settings&&null!=this._settings.text&&this.rootSprite){var t=this._settings;if(f.Compatibility.BitmapText.fonts&&f.Compatibility.BitmapText.fonts[t.font.family]){this.textObj=new f.Compatibility.BitmapText(this._settings.text,{font:t.font.size+" "+t.font.family});var e=f.utils.ColorParser.parseToPixiColor(t.font.color);0<=e&&(this.textObj.tint=e,this.textObj.dirty=!0)}else{var i={font:t.font.size+" "+t.font.family,fill:t.font.color};for(var n in t.font)i[n]||(i[n]=t.font[n]);this.textObj=new PIXI.Text(this._settings.text,i)}this.textObj.position.x=0,this.textObj.position.y=0,this._settings.anchor?(this.textObj.position.x=0,this.textObj.position.y=0,this.textObj.anchor?(this.textObj.anchor.x=this._settings.anchor.x,this.textObj.anchor.y=this._settings.anchor.y):(this.textObj.position.x-=this.textObj.width/2,this.textObj.position.y-=this.textObj.height/2)):(this.textObj.position.x=(this._settings.width-this.textObj.width)/2,this.textObj.position.y=(this._settings.height-this.textObj.height)/2,this.textObj.anchor&&(this.textObj.anchor.x=0,this.textObj.anchor.y=0)),this.rootSprite.addChild(this.textObj)}},t.prototype.createChild=function(t,e){if(!t)return null;var i=t.position;if("string"==typeof i){var n=i.split(" "),s=n[0],o=n[1];n[0]==n[1]&&(o=void 0),("top"==n[0]&&"bottom"==n[2]||"bottom"==n[0]&&"top"==n[2]||"left"==n[0]&&"right"==n[2]||"right"==n[0]&&"left"==n[2])&&(s="center",o="undefined"),"left"!=n[0]&&"right"!=n[0]||"top"!=n[1]&&"bottom"!=n[1]||(s=n[1],o=n[0]),"left"!=s&&"right"!=s||void 0!==o||(o=s,s="left");var r=this._settings["padding-top"]||this._settings.padding||0;this._settings["padding-left"]||this._settings.padding;switch(t.position={x:0,y:0},"center"==s&&(t.position.x=(this._settings.width-t.width)/2,t.position.y=(this._settings.height-t.height+r)/2),s){case"center":t.position.y=(this._settings.height-t.height+r)/2,void 0===o&&(t.position.x=(this._settings.width-t.width)/2);break;case"bottom":t.position.y=this._settings.height-t.height-this._settings.padding}switch(o){case"center":t.position.x=(this._settings.width-t.width)/2;break;case"right":t.position.x=this._settings.width-t.width-this._settings.padding}}return f.create(t,this.theme)},t.prototype.setState=function(t){void 0===t&&(t="default");for(var e=0;e<this.children.length;e++){var i=this.children[e];i instanceof f.MultistateSprite&&i.setState(t)}},t.prototype.animatePosTo=function(t,e,i,n,s){if(void 0===i&&(i=1e3),void 0===n&&(n=f.Easing.Linear.None),n=n||f.Easing.Linear.None,"function"==typeof s)var o=new f.Tween(this.position).to({x:t,y:e},i).easing(n).onComplete(s);else o=new f.Tween(this.position).to({x:t,y:e},i).easing(n);return o.start(),o},t.prototype.animateSizeTo=function(t,e,i,n,s){if(void 0===i&&(i=1e3),void 0===n&&(n=f.Easing.Linear.None),n=n||f.Easing.Linear.None,"function"==typeof s)var o=new f.Tween(this).to({width:t,height:e},i).easing(n).onComplete(s);else o=new f.Tween(this).to({width:t,height:e},i).easing(n);return o.start(),o},t.prototype.getFrameConfig=function(t,e){var i=JSON.parse(JSON.stringify(t));"string"==typeof i&&(i={default:i});var n,s=null==i[e]?i.default:i[e];return""!=s.trim()&&(n=PIXI.Texture.fromFrame(s)),i.texture=n,i},t.prototype.getComponentConfig=function(t,e,i,n){var s=this.theme.getSkin(t);if(s){var o=null==s.scale?1:s.scale,r=0,a=this._settings[e+"-"+i]||s[e+"-"+i]||this._settings[e]||s[e];if(a){if(s[e]&&!s[e+"-"+i])switch(i){case"tr":case"r":r=90*Math.PI/180;break;case"bl":case"l":r=-90*Math.PI/180;break;case"br":case"b":r=180*Math.PI/180}(a=this.getFrameConfig(a,n)).rotation=null!=a.rotation?a.rotation:r,a.scale=null!=a.scale?a.scale:o;var h=null!=this._settings.bgPadding?this._settings.bgPadding:s.bgPadding;return a.bgPadding=null!=h?h:0,a}}},t.prototype.createThemeCorner=function(t,e,i,n){var s=t.skin||t.component||"default",o=this.getComponentConfig(s,e,i,n);if(o&&o.texture){var r=t,a=this._settings[e+"-"+i]||r[e+"-"+i],h=new PIXI.Sprite(o.texture);switch(h.rotation=o.rotation,h.scale.x=o.scale,h.scale.y=o.scale,i){case"tl":h.position.x=0,h.position.y=0;break;case"tr":h.position.x=t.width,h.position.y=0;break;case"bl":h.position.x=0,h.position.y=t.height;break;case"br":h.position.x=t.width,h.position.y=t.height}return a&&(0!=h.position.y&&(h.anchor.y=1),0!=h.position.x&&(h.anchor.x=1)),h}},t.prototype.createThemeSide=function(t,e,i){var n=t.component,s=this.getComponentConfig(n,e,"",i);if(s&&s.texture){var o=new PIXI.Sprite(s.texture);switch(o.scale.x=s.scale,o.scale.y=s.scale,o.height=t.height,e){case"left":o.position.x=0,o.position.y=0;break;case"right":o.position.x=t.width,o.position.y=0}return o}},t.prototype.createThemeBorder=function(t,e,i,n){var s=t.skin||t.component||"default",o=this.getComponentConfig(s,e,i,n);if(o&&o.texture){var r=this.getComponentConfig(s,"corner","tl",n),a=this.getComponentConfig(s,"corner","bl",n);if(r&&r.texture&&a&&a.texture){var h,l,u,c,g=t,d=this._settings[e+"-"+i]||g[e+"-"+i];switch(i){case"t":case"b":h=r.texture.width*r.scale,l=a.texture.height*a.scale,u=1*(t.width-2*h)/o.scale,c=o.texture.height;break;case"r":case"l":h=r.texture.height*r.scale,u=1*(t.height-2*h)/o.scale,c=o.texture.height,d&&(l=r.texture.width*r.scale,u=r.texture.width,c=1*(t.height-2*h)/o.scale)}var p=new f.Compatibility.TilingSprite(o.texture,u,c);switch(p.fixPhaser24(),i){case"t":p.position.x=h,p.position.y=0;break;case"r":p.position.y=h,d?(p.position.x=t.width,p.anchor.x=1,p.anchor.y=0):(p.position.x=t.width-h,p.anchor.x=0,p.anchor.y=1);break;case"b":p.position.x=h,d?p.position.y=t.height-l:(p.position.y=t.height-h,p.anchor.x=1,p.anchor.y=1);break;case"l":p.position.y=h,p.anchor.x=d?0:1,p.anchor.y=0}return p.scale.x=o.scale,p.scale.y=o.scale,p.rotation=o.rotation,p}}},t.prototype.createThemeTilableBackground=function(t,e){var i=t.skin||t.component||"default",n=this.getComponentConfig(i,"bg",null,e);if(n&&n.texture){var s=new f.Compatibility.TilingSprite(n.texture,t.width-2*n.bgPadding,t.height-2*n.bgPadding);return s.fixPhaser24(),s.position.x=n.bgPadding,s.position.y=n.bgPadding,t.bgTiling&&("x"==t.bgTiling&&(s.tileScale.y=(t.height-2*n.bgPadding)/n.texture.height),"y"==t.bgTiling&&(s.tileScale.x=(t.width-2*n.bgPadding)/n.texture.width)),s}},t.prototype.createThemeBackground=function(t,e,i,n){var s=t.skin||t.component||"default",o=this.getComponentConfig(s,"bg",null,e);if(o&&o.texture){var r=new PIXI.Sprite(o.texture);return r.position.x=i.width,r.position.y=0,r.scale.x=o.scale,r.scale.y=o.scale,r.width=t.width-i.width,r.height=t.height,r}},t.prototype.createThemeImage=function(t,e,i){void 0===i&&(i="image");t.skin||t.component;var n=t;if(n[i]){var s=this.getFrameConfig(n[i],e),o=new PIXI.Sprite(s.texture);return o.width=t.width,o.height=t.height,o}return null},t.prototype.createVisuals=function(t,e){if(!0===t.transparent)return[];var i=this.createThemeImage(t,e);if(null!=i)return[i];var n=[],s=this.createThemeSide(t,"left",e),o=this.createThemeSide(t,"right",e),r=this.createThemeTilableBackground(t,e);if(r&&n.push(r),s)n.push(s);else{var a=this.createThemeCorner(t,"corner","tl",e);a&&n.push(a);var h=this.createThemeCorner(t,"corner","bl",e);h&&n.push(h);var l=this.createThemeBorder(t,"line","l",e);l&&n.push(l)}if(o)n.push(o);else{var u=this.createThemeCorner(t,"corner","tr",e);u&&n.push(u);var c=this.createThemeCorner(t,"corner","br",e);c&&n.push(c);var g=this.createThemeBorder(t,"line","r",e);g&&n.push(g)}if(!s&&!o){var d=this.createThemeBorder(t,"line","t",e);d&&n.push(d);var p=this.createThemeBorder(t,"line","b",e);p&&n.push(p)}return n},t}(f.GUIObject);f.GUISprite=t,f.registerComponents(t,"default")}(EZGUI||(EZGUI={})),function(o){var t,e;t=o.Component||(o.Component={}),e=function(s){function t(t,e){s.call(this,t,e),this.settings=t,this.themeId=e,t.text&&(this.text=t.text)}return __extends(t,s),Object.defineProperty(t.prototype,"text",{get:function(){return this.domInput?this.domInput.value:this.textObj?this.textObj.text:void 0},set:function(t){if(this.domInput){var e=this.getCaretPosition();this.domInput.value=t,this.setCaretPosition(e),this.setTextWithCaret(t)}this.textObj&&(this.textObj.text=t)},enumerable:!0,configurable:!0}),t.prototype.setTextWithCaret=function(t,e){void 0===e&&(e=null),this.textObj&&(3==o.Compatibility.PIXIVersion?this.textObj.text=t:this.textObj.setText(t),this._settings.anchor?(this.textObj.position.x=0,this.textObj.position.y=0,this.textObj.anchor?(this.textObj.anchor.x=this._settings.anchor.x,this.textObj.anchor.y=this._settings.anchor.y):(this.textObj.position.x-=this.textObj.width/2,this.textObj.position.y-=this.textObj.height/2)):(this.textObj.position.x=(this._settings.width-this.textObj.width)/2,this.textObj.position.y=(this._settings.height-this.textObj.height)/2,this.textObj.anchor&&(this.textObj.anchor.x=0,this.textObj.anchor.y=0))),this.textObj.position.x=5,e&&this.emit("ezgui:change",e,this)},t.prototype.draw=function(){s.prototype.draw.call(this),this.guiMask={width:0,height:0};var t=this._settings;if(t){var e=t.padding||0,i=new PIXI.Graphics;i.beginFill(),i.drawRect(e,e,t.width-2*e,t.height-2*e),i.endFill(),this.addChild(i),this._settings.anchor&&(i.position.x=this.container.position.x+e,i.position.y=this.container.position.y+e),this.container.mask=i,this.guiMask.x=e,this.guiMask.y=e,this.guiMask.width=t.width-2*e,this.guiMask.height=t.height-2*e}this.addChild(this.container)},t.prototype.drawText=function(){this._settings.text=this._settings.text||"",s.prototype.drawText.call(this),this.textObj.position.x=5,this.container.addChild(this.textObj)},t.prototype.setupEvents=function(){if(s.prototype.setupEvents.call(this),!o.Device.isMobile&&document&&document.createElement){this.domInput=document.createElement("input"),this.domInput.id=this.guiID+"_input",this.domInput.style.position="absolute",this.domInput.style.top="-100px",this.domInput.value="",document.body.appendChild(this.domInput);var n=this;this.domInput.addEventListener("input",function(t){var e=n.getCaretPosition(),i=n.domInput.value;n.setTextWithCaret(i.substr(0,e)+"|"+i.substr(e)),n.setTextWithCaret(i,!0)}),this.domInput.addEventListener("keydown",function(t){var e=n.getCaretPosition(),i=n.domInput.value;n.setTextWithCaret(i.substr(0,e)+"|"+i.substr(e))}),this.domInput.addEventListener("keyup",function(t){var e=n.getCaretPosition(),i=n.domInput.value;n.setTextWithCaret(i.substr(0,e)+"|"+i.substr(e))})}},t.prototype.handleEvents=function(){s.prototype.handleEvents.call(this);var i=this;o.Device.isMobile?this.on("click",function(t){i.setTextWithCaret(prompt("",i.text),t)}):(this.on("focus",function(){if(!i.focused&&(i.focused=!0,i.domInput)){i.domInput.value=i.text,i.setCaretPosition(i.domInput.value.length);var t=i.getCaretPosition(),e=i.domInput.value;i.setTextWithCaret(e.substr(0,t)+"|"+e.substr(t)),i.domInput.focus()}}),this.on("blur",function(){i.focused&&(i.focused=!1,i.domInput&&(i.setTextWithCaret(i.domInput.value),i.domInput.blur()))}))},t.prototype.getCaretPosition=function(){var t=this.domInput;if(!t)return 0;var e=0;if(document.selection){t.focus();var i=document.selection.createRange();i.moveStart("character",-t.value.length),e=i.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e},t.prototype.setCaretPosition=function(t){var e=this.domInput;if(!e)return 0;if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}},t}(o.GUISprite),t.Input=e,o.registerComponents(e,"Input")}(EZGUI||(EZGUI={})),function(e){var t,i;t=e.Component||(e.Component={}),i=function(i){function t(t,e){i.call(this,t,e),this.settings=t,this.themeId=e,t.text&&(this.text=t.text)}return __extends(t,i),t.prototype.setupEvents=function(){},t.prototype.handleEvents=function(){},t.prototype.drawText=function(){this._settings.text=this._settings.text||"",i.prototype.drawText.call(this)},t.prototype.draw=function(){var t=this._settings;t&&(this.guiID=t.id,this.guiID&&(e.components[this.guiID]=this),this.position.x=t.position.x,this.position.y=t.position.y,this.rootSprite=new e.Compatibility.GUIContainer,this.addChild(this.rootSprite))},t}(e.GUISprite),t.Label=i,e.registerComponents(i,"Label")}(EZGUI||(EZGUI={})),function(e){var t,i;t=e.Component||(e.Component={}),i=function(n){function t(t,e){n.call(this,t,e),this.settings=t,this.themeId=e}return __extends(t,n),Object.defineProperty(t.prototype,"value",{get:function(){return this.horizontalSlide?this.slide.position.x/(this.width-this.slide.width):1+this.slide.position.y/(this.slide.height-this.height)},set:function(t){t=Math.max(0,t),t=Math.min(t,1),this.horizontalSlide?this.slide.position.x=t*(this.width-this.slide.width):this.slide.position.y=(t-1)*(this.slide.height-this.height)},enumerable:!0,configurable:!0}),t.prototype.setupEvents=function(){n.prototype.setupEvents.call(this)},t.prototype.drawText=function(){},t.prototype.handleEvents=function(){n.prototype.handleEvents.call(this);var t=this,i=this;e.Compatibility.isPhaser&&(t.on("mousemove",function(){}),t.on("mousedown",function(t,e){i.canTrigger(t,i.slide)&&i.slide.emit("ezgui:mousedown",t)}),t.on("mouseup",function(){i.canTrigger(event,i.slide)&&i.slide.emit("ezgui:mouseup",event)}),t.on("mouseover",function(){}),t.on("mouseout",function(){})),this.slide.on("mousemove",function(){e.dragging==i.slide&&i.emit("ezgui:value",i.value)})},t.prototype.draw=function(){n.prototype.draw.call(this);var t=this._settings.slide;t.component="Button",t.skin="Slide",t.position={x:0,y:0},t.draggable=!0;this._settings.dir;this._settings.height>this._settings.width?this._settings.dir="v":this._settings.dir="h","v"==this._settings.dir?(t.dragX=!1,this.horizontalSlide=!1):(t.dragY=!1,this.horizontalSlide=!0),this.slide=e.create(t,this.theme),this.slide.dragXInterval=[0,this.width-this.slide.width],this.slide.dragYInterval=[0,this.height-this.slide.height],this.value=0,this.container.addChild(this.slide)},t}(e.GUISprite),t.Slider=i,e.registerComponents(i,"Slider")}(EZGUI||(EZGUI={})),function(o){var t,e;t=o.Component||(o.Component={}),e=function(s){function t(t,e){s.call(this,t,e),this.settings=t,this.themeId=e}return __extends(t,s),t.prototype.handleEvents=function(){s.prototype.handleEvents.call(this);var n=this;if(this.tabsBar){for(var t=0;t<n.tabsBar.container.children.length;t++)n.tabsBar.container.children[t]._events={};this.tabsBar.bindChildren("click",function(t,e){n.activate(e.userData.id);for(var i=0;i<n.tabsBar.container.children.length;i++)n.tabsBar.container.children[i].setState("default");e.setState("down")})}},t.prototype.draw=function(){delete this._settings.layout;var t=this._settings.tabHeight||50;this._settings["padding-top"]=t;for(var e={component:"Window",transparent:!0,padding:0,position:{x:0,y:0},width:this._settings.width,height:t,layout:[this._settings.children.length,1],children:[]},i=0;i<this._settings.children.length;i++){var n={text:this._settings.children[i].title||"",userData:{id:i},component:"Button",position:{x:0,y:0},width:~~(this._settings.width/this._settings.children.length),height:t};e.children.push(n)}this.tabsBar=o.create(e,this.themeId),s.prototype.draw.call(this),this.addChild(this.tabsBar)},t.prototype.createChild=function(t,e){var i=s.prototype.createChild.call(this,t,e);return this.activeChild||(this.activeChild=i),t.active?(this.activeChild.visible=!1,this.activeChild=i,this.activeChild.visible=!0,this.tabsBar&&this.tabsBar.container.children[e].setState("down")):(i.visible=!1,this.tabsBar&&this.tabsBar.container.children[e].setState("default")),i},t.prototype.activate=function(t){if(this.container.children[t]&&(this.activeChild.visible=!1,this.activeChild=this.container.children[t],this.activeChild.visible=!0,this.tabsBar)){for(var e=0;e<this.tabsBar.container.children.length;e++)this.tabsBar.container.children[e].setState("default");this.tabsBar.container.children[t].setState("down")}},t}(o.GUISprite),t.Tabs=e,o.registerComponents(e,"Tabs")}(EZGUI||(EZGUI={})),function(t){!function(t){var e=window.navigator&&navigator.userAgent||"";function i(t){return t.test(e)}t.isChrome=i(/webkit\W.*(chrome|chromium)\W/i),t.isFirefox=i(/mozilla.*\Wfirefox\W/i),t.isGecko=i(/mozilla(?!.*webkit).*\Wgecko\W/i),t.isIE=function(){return"Microsoft Internet Explorer"===navigator.appName||!!i(/\bTrident\b/)},t.isKindle=i(/\W(kindle|silk)\W/i),t.isMobile=i(/(iphone|ipod|((?:android)?.*?mobile)|blackberry|nokia)/i),t.isOpera=i(/opera.*\Wpresto\W|OPR/i),t.isSafari=i(/webkit\W(?!.*chrome).*safari\W/i),t.isTablet=i(/(ipad|android(?!.*mobile)|tablet)/i),t.isTV=i(/googletv|sonydtv/i),t.isWebKit=i(/webkit\W/i),t.isAndroid=i(/android/i),t.isIOS=i(/(ipad|iphone|ipod)/i),t.isIPad=i(/ipad/i),t.isIPhone=i(/iphone/i),t.isIPod=i(/ipod/i),t.isMobile=i(/mobile/i)||t.isAndroid||t.isIOS,t.whoami=function(){return e}}(t.Device||(t.Device={}))}(EZGUI||(EZGUI={})),function(x){var t,e;t=x.Component||(x.Component={}),e=function(_){function t(t,e){_.call(this,t,e),this.settings=t,this.themeId=e}return __extends(t,_),t.prototype.handleEvents=function(){_.prototype.handleEvents.call(this)},t.prototype.draw=function(){_.prototype.draw.call(this),this.guiMask={width:0,height:0};var t=this._settings;if(t){var e=t.padding||0;if(!1!==this._settings.mask){var i=new PIXI.Graphics;i.beginFill(),i.drawRect(e,e,t.width-2*e,t.height-2*e),i.endFill(),this.addChild(i),this._settings.anchor&&(i.position.x=this.container.position.x+e,i.position.y=this.container.position.y+e),this.container.mask=i}this.guiMask.x=e,this.guiMask.y=e,this.guiMask.width=t.width-2*e,this.guiMask.height=t.height-2*e}this.addChild(this.container)},t.prototype.createChild=function(t,e){if(!t)return null;var i=e,n=this._settings["padding-top"]||this._settings.padding||0,s=this._settings["padding-left"]||this._settings.padding||0,o=this._settings.width-s,r=this._settings.height-n,a=s,h=n,l=1,u=1;if(null!=this._settings.layout){var c,g;if(l=this._settings.layout[0],null==(u=this._settings.layout[1]))c=i,g=0;else if(null==l)c=0,g=i;else{var d=Math.floor(i/(l*u));!1===this._settings.dragY?(a+=d*o,h-=d*r):this._settings.dragX,c=i%l,g=Math.floor(i/l)}a+=c*(o/(l=l||1)),h+=g*(r/(u=u||1))}var p=t.position;if("string"==typeof p){var f=p.split(" "),v=f[0],m=f[1];switch(f[0]==f[1]&&(m=void 0),("top"==f[0]&&"bottom"==f[2]||"bottom"==f[0]&&"top"==f[2]||"left"==f[0]&&"right"==f[2]||"right"==f[0]&&"left"==f[2])&&(v="center",m="undefined"),"left"!=f[0]&&"right"!=f[0]||"top"!=f[1]&&"bottom"!=f[1]||(v=f[1],m=f[0]),"left"!=v&&"right"!=v||void 0!==m||(m=v,v="left"),t.position={x:a,y:h},v){case"center":t.position.y=h+this._settings.height/u/2-t.height/2,void 0===m&&(t.position.x=a+this._settings.width/l/2-t.width/2);break;case"bottom":t.position.y=h+this._settings.height/u-t.height-this._settings.padding}switch(m){case"center":t.position.x=a+this._settings.width/l/2-t.width/2;break;case"right":t.position.x=a+this._settings.width/l-t.width-this._settings.padding}}else t.position.x=a+t.position.x,t.position.y=h+t.position.y;return x.create(t,this.theme)},t.prototype.addChild=function(t){return t instanceof x.GUISprite?this.addChildAt(t,this.container.children.length):_.prototype.addChild.call(this,t)},t.prototype.addChildAt=function(t,e){if(t instanceof x.GUISprite){var i=e,n=this._settings["padding-top"]||this._settings.padding||0,s=this._settings["padding-left"]||this._settings.padding||0,o=this._settings.width-s,r=this._settings.height-n,a=s,h=n,l=1,u=1;if(null!=this._settings.layout){var c,g;if(l=this._settings.layout[0],null==(u=this._settings.layout[1]))c=i,g=0;else if(null==l)c=0,g=i;else{var d=Math.floor(i/(l*u));!1===this._settings.dragY?(a+=d*o,h-=d*r):this._settings.dragX,c=i%l,g=Math.floor(i/l)}a+=c*(o/(l=l||1)),h+=g*(r/(u=u||1))}var p=t._settings,f=p.position;if("string"==typeof f){var v=f.split(" "),m=v[0],y=v[1];switch(v[0]==v[1]&&(y=void 0),("top"==v[0]&&"bottom"==v[2]||"bottom"==v[0]&&"top"==v[2]||"left"==v[0]&&"right"==v[2]||"right"==v[0]&&"left"==v[2])&&(m="center",y="undefined"),"left"!=v[0]&&"right"!=v[0]||"top"!=v[1]&&"bottom"!=v[1]||(m=v[1],y=v[0]),"left"!=m&&"right"!=m||void 0!==y||(y=m,m="left"),p.position={x:a,y:h},m){case"center":p.position.y=h+this._settings.height/u/2-p.height/2,void 0===y&&(p.position.x=a+this._settings.width/l/2-p.width/2);break;case"bottom":p.position.y=h+this._settings.height/u-p.height-this._settings.padding}switch(y){case"center":p.position.x=a+this._settings.width/l/2-p.width/2;break;case"right":p.position.x=a+this._settings.width/l-p.width-this._settings.padding}}else p.position.x=a+p.position.x,p.position.y=h+p.position.y;return t.position.x=p.position.x,t.position.y=p.position.y,t.guiParent=this,t.phaserGroup?this.container.addChild(t.phaserGroup):this.container.addChild(t)}return _.prototype.addChildAt.call(this,t,e)},t}(x.GUISprite),t.Layout=e,x.registerComponents(e,"Layout")}(EZGUI||(EZGUI={})),function(e){var t,i;t=e.Component||(e.Component={}),i=function(i){function t(t,e){i.call(this,t,e),this.settings=t,this.themeId=e}return __extends(t,i),t.prototype.draw=function(){var t=this._settings.header;t&&(t.height=t.height||0,t.skin=t.skin||"Header",this._settings["padding-top"]=t.height),i.prototype.draw.call(this),t&&(null==t.width&&(t.width=this._settings.width),this.titleBar=new e.GUISprite(t,this.theme),this.originalAddChild(this.titleBar))},t.prototype.handleEvents=function(){i.prototype.handleEvents.call(this),this._settings.draggable&&this.setDraggable(!0)},t.prototype.setDraggable=function(t){void 0===t&&(t=!0),t?(this.draggable=this).titleBar?this.draghandle=this.titleBar:this.draghandle=this:(this.draggable=void 0,this.draghandle=void 0)},t}(t.Layout),t.Window=i,e.registerComponents(i,"Window")}(EZGUI||(EZGUI={})),function(h){var t,e;t=h.Kit||(h.Kit={}),e=function(n){function t(t,e){n.call(this,t,e),this.settings=t,this.themeId=e}return __extends(t,n),t.prototype.parseSettings=function(){var t=3<=h.Compatibility.PIXIVersion?PIXI.utils.TextureCache:PIXI.TextureCache;if(this._settings.logo)if("string"==typeof this._settings.logo){if(t[this._settings.logo]){var e=t[this._settings.logo],i=(this._settings.width-e.width)/2;this._settings.header={position:{x:i,y:0},image:this._settings.logo,height:e.height,width:e.width}}}else this._settings.header=this._settings.logo;if(this._settings.buttons&&0<this._settings.buttons.length){this.buttonsEvents={};for(var n=[],s=1,o=0;o<this._settings.buttons.length;o++){var r=this._settings.buttons[o];r&&(r.component="Button",r.id=this._settings.id+"-btn-"+o,r.position=r.position||"center",s<r.height&&(s=r.height),r.event&&(this.buttonsEvents[r.id]=r.event)),n.push(r)}var a=Math.floor((this._settings.height-this._settings.header.height)/(1.1*s));this._settings.layout=[1,a],this._settings.children=n}this._settings=this.theme.applySkin(this._settings)},t.prototype.handleEvents=function(){n.prototype.handleEvents.call(this);var i=this;this.bindChildren("click",function(t,e){i.buttonsEvents&&i.buttonsEvents[e.Id]&&i.emit("ezgui:"+i.buttonsEvents[e.Id],t,e)})},t}(h.Component.Window),t.MainScreen=e,h.registerComponents(e,"MainScreen")}(EZGUI||(EZGUI={})),function(t){var e;(function(t){var g={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function d(t){return(t=Math.round(t))<0?0:255<t?255:t}function e(t){return t<0?0:1<t?1:t}function p(t){return"%"===t[t.length-1]?d(parseFloat(t)/100*255):d(parseInt(t))}function f(t){return"%"===t[t.length-1]?e(parseFloat(t)/100):e(parseFloat(t))}function v(t,e,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function n(t){var e;if((t=t.replace(/ /g,"").toLowerCase())in g)return g[t].slice();if("#"===t[0])return 4===t.length?0<=(e=parseInt(t.substr(1),16))&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===t.length&&0<=(e=parseInt(t.substr(1),16))&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var i=t.indexOf("("),n=t.indexOf(")");if(-1!==i&&n+1===t.length){var s=t.substr(0,i),o=t.substr(i+1,n-(i+1)).split(","),r=1;switch(s){case"rgba":if(4!==o.length)return null;r=f(o.pop());case"rgb":return 3!==o.length?null:[p(o[0]),p(o[1]),p(o[2]),r];case"hsla":if(4!==o.length)return null;r=f(o.pop());case"hsl":if(3!==o.length)return null;var a=(parseFloat(o[0])%360+360)%360/360,h=f(o[1]),l=f(o[2]),u=l<=.5?l*(h+1):l+h-l*h,c=2*l-u;return[d(255*v(c,u,a+1/3)),d(255*v(c,u,a)),d(255*v(c,u,a-1/3)),r];default:return null}}return null}t.parseToPixiColor=function(t){var e=n(t);if(!e)return-1;var i=e[0];return i=((i=(i<<8)+e[1])<<8)+e[2]},t.parseToRGB=n})((e=t.utils||(t.utils={})).ColorParser||(e.ColorParser={}))}(EZGUI||(EZGUI={})),function(n){var t,e;t=n.Component||(n.Component={}),e=function(i){function t(t,e){i.call(this,t,e),this.settings=t,this.themeId=e,t.text&&(this.text=t.text)}return __extends(t,i),t.prototype.handleEvents=function(){i.prototype.handleEvents.call(this);var t=this,e=!1;t.on("mousedown",function(){e=!0,t.setState("down")}),t.on("mouseup",function(){e=!1,t.setState("default")}),t.on("mouseover",function(){e||t.setState("hover")}),t.on("mouseout",function(){n.Compatibility.isPhaser||(e=!1,t.setState("default"))})},t}(n.GUISprite),t.Button=e,n.registerComponents(e,"Button")}(EZGUI||(EZGUI={})),function(t){var e,i;e=t.Component||(t.Component={}),i=function(i){function t(t,e){i.call(this,t,e),this.settings=t,this.themeId=e}return __extends(t,i),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(t){t?(this.setState("checked"),this._checkmark&&(this._checkmark.visible=!0)):(this.setState("default"),this._checkmark&&(this._checkmark.visible=!1)),this._checked=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){if(this.textObj)return this.textObj.text},set:function(t){this.textObj&&(this.textObj.text=t,this._settings.anchor?(this.textObj.position.x=0,this.textObj.position.y=0,this.textObj.anchor.x=this._settings.anchor.x,this.textObj.anchor.y=this._settings.anchor.y):(this.textObj.position.x=this._settings.width,this.textObj.position.y=this._settings.height/2-this.textObj.height/2.5,this.textObj.anchor.x=0,this.textObj.anchor.y=0))},enumerable:!0,configurable:!0}),t.prototype.handleEvents=function(){i.prototype.handleEvents.call(this);var t=this;this.on("mouseover",function(t){}),this.off("mouseout"),this.on("mouseout",function(){}),this.on("click",function(){t.checked=!t.checked})},t.prototype.draw=function(){i.prototype.draw.call(this),this._checkmark=this.createThemeImage(this._settings,"default","checkmark"),null!=this._checkmark&&(this.addChild(this._checkmark),this._checkmark.visible=!1,this._checkmark.width=this._settings.width,this._checkmark.height=this._settings.height,this._settings.anchor&&(this._checkmark.anchor.x=this._settings.anchor.x,this._checkmark.anchor.y=this._settings.anchor.y))},t.prototype.drawText=function(){i.prototype.drawText.call(this),this.textObj&&(this.textObj.position.x=this._settings.width,this.textObj.position.y=this._settings.height/2-this.textObj.height/2.5)},t}(e.Button),e.Checkbox=i,t.registerComponents(i,"Checkbox")}(EZGUI||(EZGUI={})),function(n){var t,e;t=n.Component||(n.Component={}),e=function(i){function t(t,e){i.call(this,t,e),this.settings=t,this.themeId=e,this.group=null,this.group=t.group,n.radioGroups[this.group]||(n.radioGroups[this.group]=[]),n.radioGroups[this.group].push(this),!0===this._settings.checked&&(this.checked=!0)}return __extends(t,i),Object.defineProperty(t,"groups",{get:function(){return n.radioGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(t){t?(this.clearGroup(),this.setState("checked"),this._checkmark&&(this._checkmark.visible=!0)):(this.setState("default"),this._checkmark&&(this._checkmark.visible=!1)),this._checked=t,n.radioGroups[this.group].selected=this},enumerable:!0,configurable:!0}),t.prototype.clearGroup=function(){if(n.radioGroups[this.group])for(var t=0;t<n.radioGroups[this.group].length;t++)n.radioGroups[this.group][t].checked=!1},t.prototype.handleEvents=function(){i.prototype.handleEvents.call(this);var e=this;e.off("click"),e.on("click",function(t){e.checked=!0,e.emit("ezgui:checked",t,e)})},t.prototype.draw=function(){i.prototype.draw.call(this)},t}(t.Checkbox),t.Radio=e,n.registerComponents(e,"Radio")}(EZGUI||(EZGUI={})),function(f){var t,e;t=f.Component||(f.Component={}),e=function(s){function t(t,e){s.call(this,t,e),this.settings=t,this.themeId=e}return __extends(t,s),t.prototype.handleEvents=function(){var t,n=this;this.draggable=this.container,(!1===n._settings.dragY||this._settings.layout&&null==this._settings.layout[1])&&(this.dragConstraint="x",this.horizontalSlide=!0,this.slotSize=this._settings.width/this._settings.layout[0]),(!1===n._settings.dragX||this._settings.layout&&null==this._settings.layout[0])&&(this.dragConstraint="y",this.horizontalSlide=!1,this.slotSize=this._settings.height/this._settings.layout[1]),this._settings.layout&&null!=this._settings.layout[0]&&null!=this._settings.layout[1]&&(!1===n._settings.dragY&&(this.slotSize=this.slotSize/this._settings.layout[1]),!1===n._settings.dragX&&(this.slotSize=this.slotSize/this._settings.layout[0])),t=this.slotSize*this.container.children.length,this.dragXInterval[0]=-t+.5*this._settings.width,this.dragXInterval[1]=.2*this._settings.width,this.dragYInterval[0]=-t+.5*this._settings.height,this.dragYInterval[1]=.2*this._settings.height,s.prototype.handleEvents.call(this),n.on("mousedown",function(t){n.decelerationItv&&(clearInterval(n.decelerationItv),n.decelerationItv=null);for(var e=0;e<n.container.children.length;e++){var i=n.container.children[e];i instanceof f.GUISprite&&(i.mouseInObj(t,i)&&i.canTrigger(t,i)&&i.emit("ezgui:mousedown",t))}}),n.on("mouseup",function(t){if(!n.decelerationItv){var e=f.utils.getRealPos(t);n.decelerateScroll(e)}})},t.prototype.decelerateScroll=function(t){var i=this,e=0;"y"!=i.dragConstraint&&(e=Math.sign(t.x-f.startDrag.x)),"x"!=i.dragConstraint&&(e=Math.sign(t.y-f.startDrag.y));var n=f.startDrag.x,s=f.startDrag.y,o=t.x,r=t.y,a=Math.sqrt(Math.pow(n-o,2)+Math.pow(s-r,2)),h=Date.now()-f.startDrag.t,l=e*(a/h)*150,u=0,c=i.draggable.position.x,g=i.draggable.position.y,d=0,p=0;i.decelerationItv&&clearInterval(i.decelerationItv),i.decelerationItv=setInterval(function(){var t,e=l/10;"y"!=i.dragConstraint&&((t=c+(d+=e))>=i.dragXInterval[0]&&t<=i.dragXInterval[1]?i.draggable.position.x=t:clearInterval(i.decelerationItv));"x"!=i.dragConstraint&&((t=g+(p+=e))>=i.dragYInterval[0]&&t<=i.dragYInterval[1]?i.draggable.position.y=t:clearInterval(i.decelerationItv));l-=e,60<(u+=1)&&(clearInterval(i.decelerationItv),i.decelerationItv=null)},16)},t.prototype.addChildAt=function(t,e){var i=s.prototype.addChildAt.call(this,t,e);if(i instanceof f.GUISprite){var n=this.slotSize*this.container.children.length;this.dragXInterval[0]=-n+.5*this._settings.width,this.dragXInterval[1]=.2*this._settings.width,this.dragYInterval[0]=-n+.9*this._settings.height,this.dragYInterval[1]=.1*this._settings.height}return i},t.prototype.removeChild=function(t){var e=s.prototype.removeChild.call(this,t);if(t instanceof f.GUISprite){var i=this.slotSize*this.container.children.length;this.dragXInterval[0]=-i+.5*this._settings.width,this.dragXInterval[1]=.2*this._settings.width,this.dragYInterval[0]=-i+.9*this._settings.height,this.dragYInterval[1]=.1*this._settings.height,this.draggable.position.x=0,this.draggable.position.y=0}return e},t.prototype.slideBy=function(t,e){e=e||5*Math.abs(t);var i=this;if("y"!=i.dragConstraint){var n=i.draggable.position.x+t;n=Math.max(n,i.dragXInterval[0]),n=Math.min(n,i.dragXInterval[1]),i.tween&&i.tween.stop(),i.tween=new f.Tween(i.container.position).to({x:n},e).easing(f.Easing.Cubic.Out),i.tween.start()}if("x"!=i.dragConstraint){n=i.draggable.position.y+t;n=Math.max(n,i.dragYInterval[0]),n=Math.min(n,i.dragYInterval[1]),i.tween&&i.tween.stop(),i.tween=new f.Tween(i.container.position).to({y:n},e).easing(f.Easing.Cubic.Out),i.tween.start()}},t.prototype.slideTo=function(t,e){var i=this;if("y"!=i.dragConstraint){var n=t;e=e||5*Math.abs(t-i.draggable.position.x),n=Math.max(n,i.dragXInterval[0]),n=Math.min(n,i.dragXInterval[1]),i.tween&&i.tween.stop(),i.tween=new f.Tween(i.container.position).to({x:n},e).easing(f.Easing.Cubic.Out),i.tween.start()}if("x"!=i.dragConstraint){n=t;e=e||5*Math.abs(t-i.draggable.position.y),n=Math.max(n,i.dragYInterval[0]),n=Math.min(n,i.dragYInterval[1]),i.tween&&i.tween.stop(),i.tween=new f.Tween(i.container.position).to({y:n},e).easing(f.Easing.Cubic.Out),i.tween.start()}},t}(t.Layout),t.List=e,f.registerComponents(e,"List")}(EZGUI||(EZGUI={})),function(i){var t=function(r){function t(t,e,i,n){r.call(this,t,e,i),this.stateTextures={},this.currentState="default",this.stateTextures.default=t;if(n)for(var s in n){var o=n[s];o instanceof PIXI.Texture&&!this.stateTextures[s]&&(this.stateTextures[s]=o)}}return __extends(t,r),t.prototype.setState=function(t){void 0===t&&(t="default");var e=this;e.stateTextures[t]&&t!=this.currentState&&e.texture!=e.stateTextures[t]&&(e.texture?e.texture=e.stateTextures[t]:e._texture&&(e._texture=e.stateTextures[t]),e.tilingTexture&&(e.tilingTexture=e.stateTextures[t]),e._tilingTexture&&(e._tilingTexture=e.stateTextures[t]),i.Compatibility.PIXIVersion)},t}(i.Compatibility.TilingSprite);i.MultistateTilingSprite=t}(EZGUI||(EZGUI={})),function(t){if("performance"in t==!1&&(t.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in t.performance==!1){var e=t.performance.timing&&t.performance.timing.navigationStart?performance.timing.navigationStart:Date.now();t.performance.now=function(){return Date.now()-e}}}(this),function(c){var t;(t=c.utils||(c.utils={})).isMasked=function t(e,i,n){var s=n.parent;if(null==s)return!1;if(!s.worldTransform||!s.guiMask)return t(e,i,s);var o=1,r=1;c.Compatibility.isPhaser&&(o=Phaser.GAMES[0].scale.width/Phaser.GAMES[0].width,r=Phaser.GAMES[0].scale.height/Phaser.GAMES[0].height);var a=(s.worldTransform.tx+s.guiMask.x)*o,h=(s.worldTransform.ty+s.guiMask.y)*r,l=s.guiMask.width*o,u=s.guiMask.height*r;return e<a||i<h||a+l<e||h+u<i||t(e,i,s)},t.getAbsPos=function t(e,i){return void 0===i&&(i=null),null==i&&(i={x:0,y:0}),i.x+=e.position.x,i.y+=e.position.y,null!=e.parent?t(e.parent,i):i},t.getClientXY=function(t){var e=t.data||t,i=t;return e.originalEvent&&e.originalEvent.changedTouches&&0<e.originalEvent.changedTouches.length?i=e.originalEvent.changedTouches[0]:e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length?i=e.originalEvent.touches[0]:e.originalEvent&&(i=e.originalEvent),{x:i.clientX,y:i.clientY}},t.getRealPos=function(t){var e=t.data||t,i=t;e.originalEvent&&e.originalEvent.changedTouches&&0<e.originalEvent.changedTouches.length?i=e.originalEvent.changedTouches[0]:e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length?i=e.originalEvent.touches[0]:e.originalEvent&&(i=e.originalEvent);var n=i.target.getBoundingClientRect();return{x:i.clientX-n.left,y:i.clientY-n.top}},t.distance=function(t,e,i,n){return Math.sqrt((t-=i)*t+(e-=n)*e)},t.extendJSON=function t(e,i){if("object"==typeof i)for(var n in i)i[n],""!=e[n]&&(e[n]?t(e[n],i[n]):e[n]=JSON.parse(JSON.stringify(i[n])))},t.loadJSON=function(t,e,i){void 0===i&&(i=!0);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t=JSON.parse(n.responseText);e(t)}},n.open("GET",t,i),n.send()},t.loadXML=function(t,e,i){void 0===i&&(i=!0);var n=new XMLHttpRequest;n.onreadystatechange=function(){var t;4==n.readyState&&200==n.status&&(window.DOMParser?t=(new DOMParser).parseFromString(n.responseText,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(n.responseText)),e(t))},n.open("GET",t,i),n.send()}}(EZGUI||(EZGUI={}));